---
title: ' í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬ âš™ï¸ â–» pm2 '
date: 2019-09-11 12:37:00
category: 'Node Js'
---

![](./images/pm2/logo.png)

<center><strong style="color:#3EB1F3; font-size: 20px;">ë…¸ë“œ í”„ë¡œì„¸ìŠ¤</strong>ë¥¼ ê´€ë¦¬í•´ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬</center>

## **ğŸ’ ëª©ì°¨**

- [ì„¤ì¹˜ë¥¼ í•˜ë©°](#ï¸-ì„¤ì¹˜ë¥¼-í•˜ë©°)
- [ëª…ë ¹ì–´ ë³´ë©°](#-ëª…ë ¹ì–´-ë³´ë©°)
- [ìƒê° í•´ë³´ë©°](#-ìƒê°í•´-ë³´ë©°)

## **âš™ï¸ ì„¤ì¹˜ë¥¼ í•˜ë©°**

```sh

$ npm install pm2 -g

```

<br />

**[â¬† ëª©ì°¨](#-ëª©ì°¨)**

<hr />

## **ğŸ˜³ ëª…ë ¹ì–´ ë³´ë©°**

### â–¸ pm2 -v

```sh

$ pm2 -v
3.5.1

```

pm2 ë²„ì „ í™•ì¸

<br />
<hr />

### â–¸ pm2 start <id|name>

```sh

$ pm2 start ./bin/www
[PM2] Starting /Users/apple/Desktop/pm2/bin/www in fork_mode (1 instance)
[PM2] Done.
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ App name â”‚ id â”‚ version â”‚ mode â”‚ pid  â”‚ status â”‚ restart â”‚ uptime â”‚ cpu â”‚ mem      â”‚ user  â”‚ watching â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ www      â”‚ 0  â”‚ 0.0.0   â”‚ fork â”‚ 8369 â”‚ online â”‚ 0       â”‚ 0s     â”‚ 0%  â”‚ 9.2 MB   â”‚ apple â”‚ disabled â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰

<br />
<hr />

### â–¸ pm2 stop <id|name>

```sh

$ pm2 stop www
[PM2] Applying action stopProcessId on app [www](ids: 0)
[PM2] [www](0) âœ“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ App name â”‚ id â”‚ version â”‚ mode â”‚ pid â”‚ status  â”‚ restart â”‚ uptime â”‚ cpu â”‚ mem    â”‚ user  â”‚ watching â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ www      â”‚ 0  â”‚ 0.0.0   â”‚ fork â”‚ 0   â”‚ stopped â”‚ 0       â”‚ 0      â”‚ 0%  â”‚ 0 B    â”‚ apple â”‚ disabled â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

í”„ë¡œì„¸ìŠ¤ ì¤‘ì§€

<br />
<hr />

### â–¸ pm2 restart <id|name>

```sh

$ pm2 restart www
Use --update-env to update environment variables
[PM2] Applying action restartProcessId on app [www](ids: 0)
[PM2] [www](0) âœ“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ App name â”‚ id â”‚ version â”‚ mode â”‚ pid  â”‚ status â”‚ restart â”‚ uptime â”‚ cpu â”‚ mem      â”‚ user  â”‚ watching â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ www      â”‚ 0  â”‚ 0.0.0   â”‚ fork â”‚ 8477 â”‚ online â”‚ 1       â”‚ 0s     â”‚ 0%  â”‚ 6.7 MB   â”‚ apple â”‚ disabled â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

í”„ë¡œì„¸ìŠ¤ ì¬ì‹œì‘

<br />
<hr />

### â–¸ pm2 delete <id|name>

```sh

$ pm2 delete www
[PM2] Applying action deleteProcessId on app [www](ids: 0)
[PM2] [www](0) âœ“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ App name â”‚ id â”‚ version â”‚ mode â”‚ pid â”‚ status â”‚ restart â”‚ uptime â”‚ cpu â”‚ mem â”‚ user â”‚ watching â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

í”„ë¡œì„¸ìŠ¤ ì œê±°

<br />
<hr />

### â–¸ pm2 list

```sh

$ pm2 list
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ App name â”‚ id â”‚ version â”‚ mode â”‚ pid  â”‚ status â”‚ restart â”‚ uptime â”‚ cpu  â”‚ mem       â”‚ user  â”‚ watching â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ www      â”‚ 0  â”‚ 0.0.0   â”‚ fork â”‚ 8553 â”‚ online â”‚ 2       â”‚ 26s    â”‚ 0.1% â”‚ 37.4 MB   â”‚ apple â”‚ disabled â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

í”„ë¡œì„¸ìŠ¤ ëª©ë¡

<br />
<hr />

### â–¸ pm2 show <id|name>

```sh

$ pm2 show www
 Describing process with id 0 - name www
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ status            â”‚ online                               â”‚
â”‚ name              â”‚ www                                  â”‚
â”‚ version           â”‚ 0.0.0                                â”‚
â”‚ restarts          â”‚ 2                                    â”‚
â”‚ uptime            â”‚ 58s                                  â”‚
â”‚ script path       â”‚ /Users/apple/Desktop/pm2/bin/www     â”‚
â”‚ script args       â”‚ N/A                                  â”‚
â”‚ error log path    â”‚ /Users/apple/.pm2/logs/www-error.log â”‚
â”‚ out log path      â”‚ /Users/apple/.pm2/logs/www-out.log   â”‚
â”‚ pid path          â”‚ /Users/apple/.pm2/pids/www-0.pid     â”‚
â”‚ interpreter       â”‚ node                                 â”‚
â”‚ interpreter args  â”‚ N/A                                  â”‚
â”‚ script id         â”‚ 0                                    â”‚
â”‚ exec cwd          â”‚ /Users/apple/Desktop/pm2             â”‚
â”‚ exec mode         â”‚ fork_mode                            â”‚
â”‚ node.js version   â”‚ 10.16.0                              â”‚
â”‚ node env          â”‚ N/A                                  â”‚
â”‚ watch & reload    â”‚ âœ˜                                    â”‚
â”‚ unstable restarts â”‚ 0                                    â”‚
â”‚ created at        â”‚ 2019-09-11T05:44:28.964Z             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 Actions available
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ km:heapdump            â”‚
â”‚ km:cpu:profiling:start â”‚
â”‚ km:cpu:profiling:stop  â”‚
â”‚ km:heap:sampling:start â”‚
â”‚ km:heap:sampling:stop  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 Trigger via: pm2 trigger www <action_name>

 Code metrics value
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Heap Size              â”‚ 14.73 MiB â”‚
â”‚ Heap Usage             â”‚ 66.85 %   â”‚
â”‚ Used Heap Size         â”‚ 9.85 MiB  â”‚
â”‚ Active requests        â”‚ 0         â”‚
â”‚ Active handles         â”‚ 4         â”‚
â”‚ Event Loop Latency     â”‚ 2.22 ms   â”‚
â”‚ Event Loop Latency p95 â”‚ 5.70 ms   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 Divergent env variables from local env


 Add your own code metrics: http://bit.ly/code-metrics
 Use `pm2 logs www [--lines 1000]` to display logs
 Use `pm2 env 0` to display environement variables
 Use `pm2 monit` to monitor CPU and Memory usage www

```

í”„ë¡œì„¸ìŠ¤ ìƒì„¸ ì¡°íšŒ

<br />
<hr />

### â–¸ pm2 log

```sh

$ pm2 log
[TAILING] Tailing last 15 lines for [all] processes (change the value with --lines option)
/Users/apple/.pm2/pm2.log last 15 lines:
PM2        | 2019-09-11T14:42:42: PM2 log: App [www:0] exited with code [0] via signal [SIGINT]
PM2        | 2019-09-11T14:42:42: PM2 log: pid=8369 msg=process killed
PM2        | 2019-09-11T14:43:39: PM2 log: App [www:0] starting in -fork mode-
PM2        | 2019-09-11T14:43:39: PM2 log: App [www:0] online
PM2        | 2019-09-11T14:43:45: PM2 log: Stopping app:www id:0
PM2        | 2019-09-11T14:43:45: PM2 log: App [www:0] exited with code [0] via signal [SIGINT]
PM2        | 2019-09-11T14:43:45: PM2 log: pid=8468 msg=process killed
PM2        | 2019-09-11T14:43:45: PM2 log: App [www:0] starting in -fork mode-
PM2        | 2019-09-11T14:43:45: PM2 log: App [www:0] online
PM2        | 2019-09-11T14:44:28: PM2 log: Process 0 in a stopped status, starting it
PM2        | 2019-09-11T14:44:28: PM2 log: Stopping app:www id:0
PM2        | 2019-09-11T14:44:28: PM2 log: App [www:0] exited with code [0] via signal [SIGINT]
PM2        | 2019-09-11T14:44:29: PM2 log: pid=8477 msg=process killed
PM2        | 2019-09-11T14:44:29: PM2 log: App [www:0] starting in -fork mode-
PM2        | 2019-09-11T14:44:29: PM2 log: App [www:0] online

/Users/apple/.pm2/logs/www-out.log last 15 lines:
/Users/apple/.pm2/logs/www-error.log last 15 lines:

```

í”„ë¡œì„¸ìŠ¤ ë¡œê·¸íŒŒì¼ í™•ì¸

<br />
<hr />

### â–¸ pm2 log <id|name>

```sh

$ pm2 log www
[TAILING] Tailing last 15 lines for [www] process (change the value with --lines option)
/Users/apple/.pm2/logs/www-out.log last 15 lines:
/Users/apple/.pm2/logs/www-error.log last 15 lines:

```

íŠ¹ì • í”„ë¡œì„¸ìŠ¤ì˜ ë¡œê·¸íŒŒì¼ í™•ì¸

<br />
<hr />

### â–¸ pm2 flush

```sh

$ pm2 flush
[PM2] Flushing /Users/apple/.pm2/pm2.log
[PM2] Flushing:
[PM2] /Users/apple/.pm2/logs/www-out.log
[PM2] /Users/apple/.pm2/logs/www-error.log
[PM2] Logs flushed

```

ë¡œê·¸íŒŒì¼ ì‚­ì œ

<br />
<hr />

### â–¸ pm2 monit

```sh

â”Œâ”€ Process list â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€ Global Logs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚[ 0] www            Mem:  30 MB    CPU:  0 %  online â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â”‚                                                     â”‚â”‚                                                                                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€ Custom metrics (http://bit.ly/code-metrics) â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€ Metadata â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Heap Size                                    13.23  â”‚â”‚ App Name              www                                                                                                      â”‚
â”‚ Heap Usage                                   66.42  â”‚â”‚ Version               0.0.0                                                                                                    â”‚
â”‚ Used Heap Size                                8.79  â”‚â”‚ Restarts              2                                                                                                        â”‚
â”‚ Active requests                                  0  â”‚â”‚ Uptime                3m                                                                                                       â”‚
â”‚ Active handles                                   4  â”‚â”‚ Script path           /Users/apple/Desktop/pm2/bin/www                                                                         â”‚
â”‚ Event Loop Latency                            2.13  â”‚â”‚ Script args           N/A                                                                                                      â”‚
â”‚ Event Loop Latency p95                        5.54  â”‚â”‚ Interpreter           node                                                                                                     â”‚
â”‚                                                     â”‚â”‚ Interpreter args      N/A                                                                                                      â”‚
â”‚                                                     â”‚â”‚ Exec mode             fork                                                                                                     â”‚
â”‚                                                     â”‚â”‚ Node.js version       10.16.0                                                                                                  â”‚
â”‚                                                     â”‚â”‚ watch & reload        âœ˜                                                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

 left/right: switch boards | up/down/mouse: scroll | Ctrl-C: exit                                                                                To go further check out https://pm2.io/

```

í”„ë¡œì„¸ìŠ¤ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§

<br />

**[â¬† ëª©ì°¨](#-ëª©ì°¨)**

<hr />

## **ğŸ¤” ìƒê°í•´ ë³´ë©°**

### â–¸ Cluster Mode

```sh

$ pm2 start ./bin/www -i 2
[PM2] Starting /Users/apple/Desktop/pm2/bin/www in cluster_mode (2 instances)
[PM2] Done.
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ App name â”‚ id â”‚ version â”‚ mode    â”‚ pid  â”‚ status â”‚ restart â”‚ uptime â”‚ cpu â”‚ mem       â”‚ user  â”‚ watching â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ www      â”‚ 0  â”‚ 0.0.0   â”‚ cluster â”‚ 8888 â”‚ online â”‚ 0       â”‚ 0s     â”‚ 0%  â”‚ 32.7 MB   â”‚ apple â”‚ disabled â”‚
â”‚ www      â”‚ 1  â”‚ 0.0.0   â”‚ cluster â”‚ 8889 â”‚ online â”‚ 0       â”‚ 0s     â”‚ 0%  â”‚ 25.2 MB   â”‚ apple â”‚ disabled â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

í´ëŸ¬ìŠ¤í„° ëª¨ë“œë¡œ CPUë¥¼ ìµœëŒ€í•œ í™œìš©

`-i` ì˜µì…˜ì€ í´ëŸ¬ìŠ¤í„° ëª¨ë“œë¡œ ì‹¤í–‰í•˜ë©° ë’¤ì— ì¸ìŠ¤í„´ìŠ¤ ê°œìˆ˜ë¥¼ ì§€ì • ê°€ëŠ¥

`0`ì„ ì§€ì •í•  ê²½ìš° ì‚¬ìš© ê°€ëŠ¥í•œ CPU ê°œìˆ˜ë§Œí¼ ì‹¤í–‰

<br />
<hr />

#### â–¸ pm2 reload <id|name>

```sh

$ pm2 reload www
Use --update-env to update environment variables
[PM2] Applying action reloadProcessId on app [www](ids: 0,1)
[PM2] [www](0) âœ“
[PM2] [www](1) âœ“

```

í´ëŸ¬ìŠ¤í„° ëª¨ë“œì— ì‚¬ìš©í•  ê²½ìš° ë‹¤ìš´íƒ€ì„ ì—†ì´ ì„œë²„ë¥¼ ì¬ê¸°ë™í•  ìˆ˜ ìˆë‹¤.

<br />
<hr />

### â–¸ Ecosystem File

```sh

$ pm2 ecosystem

```

pm2 ì„¤ì • íŒŒì¼ ìƒì„±

<br />

**ecosystem.cofing.js**

![](./images/pm2/1.png)
<br />

`name` ì‹¤í–‰í•œ í”„ë¡œì„¸ìŠ¤ ì´ë¦„

`script` ì‹¤í–‰í•  íŒŒì¼ ê²½ë¡œ

`watch` íŒŒì¼ ë³€ê²½ì‹œ ìë™ìœ¼ë¡œ ì¬ì‹¤í–‰ ì—¬ë¶€ (true, false)

`exec_mode` ì‹¤í–‰ ëª¨ë“œ (cluster, fork)

`instances` clusterë¡œ ì‹¤í–‰ì‹œ ì¸ìŠ¤í„´ìŠ¤ ê°œìˆ˜

`env` í™˜ê²½ë³€ìˆ˜ë¡œ PORT, NODE_ENV ê°™ì€ precess.env.{} ì„¤ì •

<br />

```sh

# NODE_ENV=production
$ pm2 start ecosystem.cofing.js

# NODE_ENV=development
$ pm2 start ecosystem.cofing.js --env development

```

<br />

**[â¬† ëª©ì°¨](#-ëª©ì°¨)**

<hr />

<br />

> ì¶œì²˜
>
> <a href="https://github.com/bynodejs/pm2" target="_blank">GitHub > pm2</a>

# ì—¬ëŸ¬ë¶„ì˜ ëŒ“ê¸€ì´ í°í˜ì´ ë©ë‹ˆë‹¤. (à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§
